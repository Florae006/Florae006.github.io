<!doctype html><html lang=zh-CN><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>JavaScript é“¾å¼è°ƒç”¨ | è®¾è®¡æ¨¡å¼ ç¬”è®° - Doã”ã¿ç®±ğŸª„</title><meta name=Description content="Doã”ã¿ç®±2.1"><meta property="og:url" content="http://dodolalorc.cn/posts/method_chaining/">
<meta property="og:site_name" content="Doã”ã¿ç®±ğŸª„"><meta property="og:title" content="JavaScript é“¾å¼è°ƒç”¨ | è®¾è®¡æ¨¡å¼ ç¬”è®°"><meta property="og:description" content="Vue :ä» createApp å¼€å§‹çš„é“¾å¼è°ƒç”¨ ä»£ç ç¤ºä¾‹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 import { createApp } from 'vue'; // åˆ›å»ºä¸€ä¸ª Vue åº”ç”¨å®ä¾‹ const app = createApp({ data() { return { message: 'Hello, Vue!' }; }, methods: { handleClick() { alert('Button clicked!'); } } }); // é“¾å¼è°ƒç”¨ï¼šé…ç½®åº”ç”¨å¹¶ç»‘å®šäº‹ä»¶ app .component('MyButton', { template: `<button @click=&#34;handleClick&#34;>Click Me</button>`, methods: { handleClick() { this.$emit('custom-click'); } } }) .directive('highlight', { mounted(el) { el.style.backgroundColor = 'yellow'; } }) .mixin({ created() { console.log('Mixin created hook'); } }) .mount('#app'); // æŒ‚è½½åˆ° DOM è§£é‡ŠcreateApp:åˆ›å»ºä¸€ä¸ª Vue åº”ç”¨å®ä¾‹ã€‚ä¼ å…¥ä¸€ä¸ªæ ¹ç»„ä»¶é…ç½®å¯¹è±¡ï¼ŒåŒ…å« data å’Œ methodsã€‚"><meta property="og:locale" content="zh_CN"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-03-17T09:26:02+08:00"><meta property="article:modified_time" content="2025-03-17T06:34:36+00:00"><meta property="article:tag" content="å‰ç«¯"><meta property="article:tag" content="é“¾å¼è°ƒç”¨"><meta property="article:tag" content="JavaScript"><meta property="og:image" content="http://dodolalorc.cn/img/dodola.png"><meta property="og:see_also" content="http://dodolalorc.cn/posts/large_file_upload/"><meta property="og:see_also" content="http://dodolalorc.cn/posts/flow_control/"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://dodolalorc.cn/img/dodola.png"><meta name=twitter:title content="JavaScript é“¾å¼è°ƒç”¨ | è®¾è®¡æ¨¡å¼ ç¬”è®°"><meta name=twitter:description content="Vue :ä» createApp å¼€å§‹çš„é“¾å¼è°ƒç”¨ ä»£ç ç¤ºä¾‹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 import { createApp } from 'vue'; // åˆ›å»ºä¸€ä¸ª Vue åº”ç”¨å®ä¾‹ const app = createApp({ data() { return { message: 'Hello, Vue!' }; }, methods: { handleClick() { alert('Button clicked!'); } } }); // é“¾å¼è°ƒç”¨ï¼šé…ç½®åº”ç”¨å¹¶ç»‘å®šäº‹ä»¶ app .component('MyButton', { template: `<button @click=&#34;handleClick&#34;>Click Me</button>`, methods: { handleClick() { this.$emit('custom-click'); } } }) .directive('highlight', { mounted(el) { el.style.backgroundColor = 'yellow'; } }) .mixin({ created() { console.log('Mixin created hook'); } }) .mount('#app'); // æŒ‚è½½åˆ° DOM è§£é‡ŠcreateApp:åˆ›å»ºä¸€ä¸ª Vue åº”ç”¨å®ä¾‹ã€‚ä¼ å…¥ä¸€ä¸ªæ ¹ç»„ä»¶é…ç½®å¯¹è±¡ï¼ŒåŒ…å« data å’Œ methodsã€‚"><meta name=application-name content="Doã”ã¿ç®±-ä¸€åªå°èœé¸¡çš„Blog"><meta name=apple-mobile-web-app-title content="Doã”ã¿ç®±-ä¸€åªå°èœé¸¡çš„Blog"><meta name=theme-color content="#f8f8f8"><meta name=msapplication-TileColor content="#da532c"><link rel=icon href=/logo.svg><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=canonical href=http://dodolalorc.cn/posts/method_chaining/><link rel=prev href=http://dodolalorc.cn/posts/lchot100/><link rel=next href=http://dodolalorc.cn/posts/flow_control/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/color.css><link rel=stylesheet href=/css/style.min.css><link rel=preload as=style onload='this.onload=null,this.rel="stylesheet"' href=/lib/fontawesome-free/all.min.css><noscript><link rel=stylesheet href=/lib/fontawesome-free/all.min.css></noscript><link rel=preload as=style onload='this.onload=null,this.rel="stylesheet"' href=/lib/animate/animate.min.css><noscript><link rel=stylesheet href=/lib/animate/animate.min.css></noscript><script defer src=https://cloud.umami.is/script.js data-website-id=6137bed0-27b6-493f-8fb1-3f054e6795b7></script><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Signika+Negative:wght@300..700&display=swap" rel=stylesheet><link rel=stylesheet href=https://chinese-fonts-cdn.deno.dev/packages/lxgwwenkaibright/dist/LXGWBright-Medium/result.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"JavaScript é“¾å¼è°ƒç”¨ | è®¾è®¡æ¨¡å¼ ç¬”è®°","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"http:\/\/dodolalorc.cn\/posts\/method_chaining\/"},"genre":"posts","keywords":"å‰ç«¯, é“¾å¼è°ƒç”¨, JavaScript","wordcount":3384,"url":"http:\/\/dodolalorc.cn\/posts\/method_chaining\/","datePublished":"2025-03-17T09:26:02+08:00","dateModified":"2025-03-17T06:34:36+00:00","license":"dodola","publisher":{"@type":"Organization","name":"DODOLA","logo":"http:\/\/dodolalorc.cn\/images\/miku.jpg"},"author":{"@type":"Person","name":"DODOLA"},"description":""}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>function setTheme(e){document.body.setAttribute("theme",e),document.documentElement.style.setProperty("color-scheme",e==="light"?"light":"dark"),window.theme=e}function saveTheme(e){window.localStorage&&localStorage.setItem("theme",e)}function getMeta(e){const t=document.getElementsByTagName("meta");for(let n=0;n<t.length;n++)if(t[n].getAttribute("name")===e)return t[n];return""}if(window.localStorage&&localStorage.getItem("theme")){let e=localStorage.getItem("theme");e==="light"||e==="dark"||e==="black"?setTheme(e):setTheme(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}else"auto"==="light"||"auto"==="dark"||"auto"==="black"?(setTheme("auto"),saveTheme("auto")):(saveTheme("auto"),setTheme(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"));let metaColors={light:"#f8f8f8",dark:"#252627",black:"#000000"};getMeta("theme-color").content=metaColors[document.body.getAttribute("theme")]</script><div id=back-to-top></div><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title=Doã”ã¿ç®±ğŸª„><span class=header-title-pre>ğŸ—‘ï¸</span>Doã”ã¿ç®±2.1<span class=header-title-post>ğŸ¾</span></a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts>ğŸ™ æ–‡ç«  </a><a class=menu-item href=/series/>ğŸŒ  ç³»åˆ— </a><a class=menu-item href=/categories/>ğŸ“‚ åˆ†ç±» </a><a class=menu-item href=/tags/>ğŸ·ï¸ æ ‡ç­¾ </a><a class=menu-item href=/links/>ğŸ§¸ å‹é“¾ </a><a class=menu-item href=/about/>ğŸ… å…³äº </a><a class=menu-item href=/comments/><i class="fa-solid fa-comment" style=color:#63e6be></i> ç•™è¨€ </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder="æœç´¢æœ¬ç«™å†…å®¹( â€¢Ì€ Ï‰ â€¢Ì )y" id=search-input-desktop>
<a href=# class="search-button search-toggle" id=search-toggle-desktop title=æœç´¢><i class="fas fa-search fa-fw"></i>
</a><a href=# class="search-button search-clear" id=search-clear-desktop title=æ¸…ç©º><i class="fas fa-times-circle fa-fw"></i>
</a><span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin"></i>
</span></span><a href=# class="menu-item theme-select" title><i class="fas fa-adjust fa-fw"></i>
<select class=color-theme-select id=theme-select-desktop title><option value=light>æµ…è‰²</option><option value=dark>æ·±è‰²</option><option value=black>é»‘è‰²</option><option value=auto>è·Ÿéšç³»ç»Ÿ</option></select></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=Doã”ã¿ç®±ğŸª„><span class=header-title-pre>ğŸ—‘ï¸</span>Doã”ã¿ç®±2.1<span class=header-title-post>ğŸ¾</span></a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="æœç´¢æœ¬ç«™å†…å®¹( â€¢Ì€ Ï‰ â€¢Ì )y" id=search-input-mobile>
<a href=# class="search-button search-toggle" id=search-toggle-mobile title=æœç´¢><i class="fas fa-search fa-fw"></i>
</a><a href=# class="search-button search-clear" id=search-clear-mobile title=æ¸…ç©º><i class="fas fa-times-circle fa-fw"></i>
</a><span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin"></i></span></div><a href=# class=search-cancel id=search-cancel-mobile>å–æ¶ˆ</a></div><a class=menu-item href=/posts title>ğŸ™æ–‡ç« </a><a class=menu-item href=/series/ title>ğŸŒ ç³»åˆ—</a><a class=menu-item href=/categories/ title>ğŸ“‚åˆ†ç±»</a><a class=menu-item href=/tags/ title>ğŸ·ï¸æ ‡ç­¾</a><a class=menu-item href=/links/ title>ğŸ§¸å‹é“¾</a><a class=menu-item href=/about/ title>ğŸ…å…³äº</a><a class=menu-item href=/comments/ title><i class="fa-solid fa-comment" style=color:#63e6be></i>ç•™è¨€</a><a href=# class="menu-item theme-select" title>
<i class="fas fa-adjust fa-fw"></i>
<select class=color-theme-select id=theme-select-mobile title><option value=light>æµ…è‰²</option><option value=dark>æ·±è‰²</option><option value=black>é»‘è‰²</option><option value=auto>è·Ÿéšç³»ç»Ÿ</option></select></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>ç›®å½•</h2><div class=toc-content id=toc-content-auto><nav id=TableOfContents><ul><li><a href=#vue-ä»-createapp-å¼€å§‹çš„é“¾å¼è°ƒç”¨>Vue :ä» createApp å¼€å§‹çš„é“¾å¼è°ƒç”¨</a><ul><li><a href=#ä»£ç ç¤ºä¾‹>ä»£ç ç¤ºä¾‹</a></li><li><a href=#è§£é‡Š>è§£é‡Š</a></li><li><a href=#use-æ–¹æ³•>use æ–¹æ³•</a><ul><li><a href=#è¯­æ³•>è¯­æ³•</a></li><li><a href=#å®ç°-use>å®ç° use</a></li></ul></li></ul></li><li><a href=#promise-ä¸­çš„é“¾å¼è°ƒç”¨>Promise ä¸­çš„é“¾å¼è°ƒç”¨</a><ul><li><a href=#æ‰‹å†™-promise-æ–¹æ³•>æ‰‹å†™ Promise æ–¹æ³•</a><ul><li><a href=#promise-aè§„èŒƒ>Promise A+è§„èŒƒ</a><ul><li><a href=#æœ¯è¯­><strong>æœ¯è¯­</strong></a></li><li><a href=#è¦æ±‚><strong>è¦æ±‚</strong></a></li></ul></li><li><a href=#ä»£ç ç¤ºä¾‹-1>ä»£ç ç¤ºä¾‹</a></li></ul></li></ul></li><li><a href=#å®ç°é“¾å¼è°ƒç”¨>å®ç°é“¾å¼è°ƒç”¨</a><ul><li><a href=#ä¾‹é¢˜>ä¾‹é¢˜</a></li><li><a href=#ä»£ç >ä»£ç </a></li></ul></li><li><a href=#å‘å¸ƒè®¢é˜…æ¨¡å¼-vs-è§‚å¯Ÿè€…æ¨¡å¼>å‘å¸ƒè®¢é˜…æ¨¡å¼ vs è§‚å¯Ÿè€…æ¨¡å¼</a><ul><li><a href=#è§‚å¯Ÿè€…æ¨¡å¼observer-pattern><strong>è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰</strong></a><ul><li><a href=#ä»£ç ç¤ºä¾‹-2>ä»£ç ç¤ºä¾‹</a></li></ul></li><li><a href=#å‘å¸ƒ-è®¢é˜…æ¨¡å¼pub-sub-pattern><strong>å‘å¸ƒ-è®¢é˜…æ¨¡å¼ï¼ˆPub-Sub Patternï¼‰</strong></a><ul><li><a href=#å…³é”®è§’è‰²>å…³é”®è§’è‰²</a></li><li><a href=#ä»£ç ç¤ºä¾‹-3>ä»£ç ç¤ºä¾‹</a></li></ul></li><li><a href=#ä¸»è¦åŒºåˆ«>ä¸»è¦åŒºåˆ«</a><ul><li><a href=#åº”ç”¨>åº”ç”¨</a><ul><li><a href=#è§‚å¯Ÿè€…æ¨¡å¼>è§‚å¯Ÿè€…æ¨¡å¼</a></li><li><a href=#å‘å¸ƒ-è®¢é˜…æ¨¡å¼>å‘å¸ƒ-è®¢é˜…æ¨¡å¼</a></li></ul></li></ul></li></ul></li></ul></nav></div></div><script>document.getElementsByTagName("main")[0].setAttribute("autoTOC","true")</script><article class="page single"><h1 class="single-title animate__animated animate__flipInX">JavaScript é“¾å¼è°ƒç”¨ | è®¾è®¡æ¨¡å¼ ç¬”è®°</h1><div class=post-meta><div class=post-meta-line><span class=post-author><i class="author fa-solid fa-robot"></i><a href=https://dodolalorc.cn/ title=Author target=_blank rel="noopener noreferrer author" class=author>DODOLA</a>
</span>&nbsp;<span class=post-category>æ”¶å½•äº </span>&nbsp;<span class=post-category>ç±»åˆ« <a href=/categories/%E5%9C%A8%E5%89%8D%E7%AB%AF%E6%90%AC%E7%A0%96%E7%9A%84%E6%97%A5%E5%AD%90%E9%87%8C/><i class="far fa-folder fa-fw"></i>åœ¨å‰ç«¯æ¬ç –çš„æ—¥å­é‡Œ</a></span>&nbsp;<span class=post-category>å’Œ</span>&nbsp;<span class=post-series>ç³»åˆ— <a href=/series/%E5%89%8D%E7%AB%AF%E5%85%AB%E8%82%A1%E6%96%87%E5%9F%BA%E7%A1%80/><i class="far fa-list-alt fa-fw"></i>å‰ç«¯å…«è‚¡æ–‡åŸºç¡€</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2025-03-17>2025-03-17</time>&nbsp;<i class="far fa-edit fa-fw"></i>&nbsp;<time datetime=2025-03-17>2025-03-17</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;çº¦ 3384 å­—&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;é¢„è®¡é˜…è¯» 7 åˆ†é’Ÿ&nbsp;
<span id=busuanzi_container_value_page_pv><i class="far fa-eye fa-fw"></i>
<span id=busuanzi_value_page_pv></span>&nbsp;æ¬¡é˜…è¯»</span></div></div><div class=featured-image><img loading=eager src=https://img.dodolalorc.cn/i/2025/03/03/67c55994138f8.jpg srcset="https://img.dodolalorc.cn/i/2025/03/03/67c55994138f8.jpg, https://img.dodolalorc.cn/i/2025/03/03/67c55994138f8.jpg 1.5x, https://img.dodolalorc.cn/i/2025/03/03/67c55994138f8.jpg 2x" sizes=auto alt=https://img.dodolalorc.cn/i/2025/03/03/67c55994138f8.jpg title=https://img.dodolalorc.cn/i/2025/03/03/67c55994138f8.jpg height=auto width=auto></div><div class="details series-nav open"><div class="details-summary series-title"><span>ç³»åˆ— - å‰ç«¯å…«è‚¡æ–‡åŸºç¡€</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content series-content"><nav><ul><li><a href=/posts/large_file_upload/>å¤§æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½é—®é¢˜</a></li><li><a href=/posts/flow_control/>å‰ç«¯æµé‡æ§åˆ¶å¸¸ç”¨æ‰‹æ®µ</a></li><li><span class=active>JavaScript é“¾å¼è°ƒç”¨ | è®¾è®¡æ¨¡å¼ ç¬”è®°</span></li></ul></nav></div></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span>ç›®å½•</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#vue-ä»-createapp-å¼€å§‹çš„é“¾å¼è°ƒç”¨>Vue :ä» createApp å¼€å§‹çš„é“¾å¼è°ƒç”¨</a><ul><li><a href=#ä»£ç ç¤ºä¾‹>ä»£ç ç¤ºä¾‹</a></li><li><a href=#è§£é‡Š>è§£é‡Š</a></li><li><a href=#use-æ–¹æ³•>use æ–¹æ³•</a><ul><li><a href=#è¯­æ³•>è¯­æ³•</a></li><li><a href=#å®ç°-use>å®ç° use</a></li></ul></li></ul></li><li><a href=#promise-ä¸­çš„é“¾å¼è°ƒç”¨>Promise ä¸­çš„é“¾å¼è°ƒç”¨</a><ul><li><a href=#æ‰‹å†™-promise-æ–¹æ³•>æ‰‹å†™ Promise æ–¹æ³•</a><ul><li><a href=#promise-aè§„èŒƒ>Promise A+è§„èŒƒ</a><ul><li><a href=#æœ¯è¯­><strong>æœ¯è¯­</strong></a></li><li><a href=#è¦æ±‚><strong>è¦æ±‚</strong></a></li></ul></li><li><a href=#ä»£ç ç¤ºä¾‹-1>ä»£ç ç¤ºä¾‹</a></li></ul></li></ul></li><li><a href=#å®ç°é“¾å¼è°ƒç”¨>å®ç°é“¾å¼è°ƒç”¨</a><ul><li><a href=#ä¾‹é¢˜>ä¾‹é¢˜</a></li><li><a href=#ä»£ç >ä»£ç </a></li></ul></li><li><a href=#å‘å¸ƒè®¢é˜…æ¨¡å¼-vs-è§‚å¯Ÿè€…æ¨¡å¼>å‘å¸ƒè®¢é˜…æ¨¡å¼ vs è§‚å¯Ÿè€…æ¨¡å¼</a><ul><li><a href=#è§‚å¯Ÿè€…æ¨¡å¼observer-pattern><strong>è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰</strong></a><ul><li><a href=#ä»£ç ç¤ºä¾‹-2>ä»£ç ç¤ºä¾‹</a></li></ul></li><li><a href=#å‘å¸ƒ-è®¢é˜…æ¨¡å¼pub-sub-pattern><strong>å‘å¸ƒ-è®¢é˜…æ¨¡å¼ï¼ˆPub-Sub Patternï¼‰</strong></a><ul><li><a href=#å…³é”®è§’è‰²>å…³é”®è§’è‰²</a></li><li><a href=#ä»£ç ç¤ºä¾‹-3>ä»£ç ç¤ºä¾‹</a></li></ul></li><li><a href=#ä¸»è¦åŒºåˆ«>ä¸»è¦åŒºåˆ«</a><ul><li><a href=#åº”ç”¨>åº”ç”¨</a><ul><li><a href=#è§‚å¯Ÿè€…æ¨¡å¼>è§‚å¯Ÿè€…æ¨¡å¼</a></li><li><a href=#å‘å¸ƒ-è®¢é˜…æ¨¡å¼>å‘å¸ƒ-è®¢é˜…æ¨¡å¼</a></li></ul></li></ul></li></ul></li></ul></nav></div></div><div class=content id=content><h2 id=vue-ä»-createapp-å¼€å§‹çš„é“¾å¼è°ƒç”¨ class=headerLink><a href=#vue-%e4%bb%8e-createapp-%e5%bc%80%e5%a7%8b%e7%9a%84%e9%93%be%e5%bc%8f%e8%b0%83%e7%94%a8 class=header-mark></a>Vue :ä» createApp å¼€å§‹çš„é“¾å¼è°ƒç”¨</h2><h3 id=ä»£ç ç¤ºä¾‹ class=headerLink><a href=#%e4%bb%a3%e7%a0%81%e7%a4%ba%e4%be%8b class=header-mark></a>ä»£ç ç¤ºä¾‹</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>createApp</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;vue&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// åˆ›å»ºä¸€ä¸ª Vue åº”ç”¨å®ä¾‹
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>app</span> <span class=o>=</span> <span class=nx>createApp</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>data() {</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>message</span><span class=o>:</span> <span class=s1>&#39;Hello, Vue!&#39;</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nx>methods</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>handleClick() {</span>
</span></span><span class=line><span class=cl>      <span class=nx>alert</span><span class=p>(</span><span class=s1>&#39;Button clicked!&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// é“¾å¼è°ƒç”¨ï¼šé…ç½®åº”ç”¨å¹¶ç»‘å®šäº‹ä»¶
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>app</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=nx>component</span><span class=p>(</span><span class=s1>&#39;MyButton&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>template</span><span class=o>:</span> <span class=sb>`&lt;button @click=&#34;handleClick&#34;&gt;Click Me&lt;/button&gt;`</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>methods</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>handleClick() {</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>$emit</span><span class=p>(</span><span class=s1>&#39;custom-click&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>})</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=nx>directive</span><span class=p>(</span><span class=s1>&#39;highlight&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>mounted</span><span class=p>(</span><span class=nx>el</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>el</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>backgroundColor</span> <span class=o>=</span> <span class=s1>&#39;yellow&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>})</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=nx>mixin</span><span class=p>({</span>
</span></span><span class=line><span class=cl>    <span class=nx>created() {</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;Mixin created hook&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>})</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=nx>mount</span><span class=p>(</span><span class=s1>&#39;#app&#39;</span><span class=p>);</span> <span class=c1>// æŒ‚è½½åˆ° DOM
</span></span></span></code></pre></td></tr></table></div></div><h3 id=è§£é‡Š class=headerLink><a href=#%e8%a7%a3%e9%87%8a class=header-mark></a>è§£é‡Š</h3><p><code>createApp</code>:åˆ›å»ºä¸€ä¸ª Vue åº”ç”¨å®ä¾‹ã€‚ä¼ å…¥ä¸€ä¸ªæ ¹ç»„ä»¶é…ç½®å¯¹è±¡ï¼ŒåŒ…å« data å’Œ methodsã€‚</p><p><strong>é“¾å¼è°ƒç”¨</strong></p><ul><li><code>.component()</code>: æ³¨å†Œä¸€ä¸ªå…¨å±€ç»„ä»¶ MyButtonï¼Œç»„ä»¶ä¸­å®šä¹‰äº†ä¸€ä¸ªæŒ‰é’®ï¼Œç‚¹å‡»æŒ‰é’®æ—¶ä¼šè§¦å‘ custom-click äº‹ä»¶ã€‚</li><li><code>.directive()</code>: æ³¨å†Œä¸€ä¸ªå…¨å±€æŒ‡ä»¤ highlightï¼Œå½“å…ƒç´ æŒ‚è½½æ—¶ï¼ŒèƒŒæ™¯é¢œè‰²ä¼šå˜ä¸ºé»„è‰²ã€‚</li><li><code>.mixin()</code>: æ·»åŠ ä¸€ä¸ªå…¨å±€æ··å…¥ï¼Œåœ¨ç»„ä»¶çš„ created ç”Ÿå‘½å‘¨æœŸé’©å­ä¸­è¾“å‡ºæ—¥å¿—ã€‚</li><li><code>.mount()</code>: å°†åº”ç”¨æŒ‚è½½åˆ° DOM ä¸­ï¼ŒæŒ‚è½½ç‚¹ä¸º <code>#app</code>ã€‚</li></ul><p><strong>äº‹ä»¶ç»‘å®š</strong></p><p>åœ¨ <code>MyButton</code> ç»„ä»¶ä¸­ï¼Œé€šè¿‡ <code>@click</code> ç»‘å®šäº†ä¸€ä¸ªç‚¹å‡»äº‹ä»¶ï¼Œè§¦å‘æ—¶ä¼šè°ƒç”¨ <code>handleClick</code> æ–¹æ³•ï¼Œå¹¶é€šè¿‡<code> $emit</code> è§¦å‘ <code>custom-click</code> äº‹ä»¶ã€‚</p><p>åœ¨çˆ¶ç»„ä»¶ä¸­ï¼Œå¯ä»¥é€šè¿‡ç›‘å¬ custom-click äº‹ä»¶æ¥å¤„ç†æŒ‰é’®ç‚¹å‡»é€»è¾‘ã€‚</p><h3 id=use-æ–¹æ³• class=headerLink><a href=#use-%e6%96%b9%e6%b3%95 class=header-mark></a>use æ–¹æ³•</h3><p><code>use</code>Â  æ–¹æ³•æ˜¯ Vue åº”ç”¨å®ä¾‹çš„ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºå®‰è£…æ’ä»¶ã€‚æ’ä»¶å¯ä»¥æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ˆå¿…é¡»æä¾› Â <code>install</code>Â  æ–¹æ³•ï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼ˆä¼šè¢«ç›´æ¥è°ƒç”¨ï¼‰ã€‚Vue ä¼šè°ƒç”¨æ’ä»¶çš„ Â <code>install</code>Â  æ–¹æ³•ï¼Œå¹¶å°† Vue åº”ç”¨å®ä¾‹ä½œä¸ºå‚æ•°ä¼ é€’ç»™å®ƒã€‚</p><h4 id=è¯­æ³• class=headerLink><a href=#%e8%af%ad%e6%b3%95 class=header-mark></a>è¯­æ³•</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=nx>plugin</span><span class=p>,</span> <span class=nx>options</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><strong><code>plugin</code></strong>: è¦å®‰è£…çš„æ’ä»¶ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªå¯¹è±¡æˆ–å‡½æ•°ã€‚</li><li><strong><code>options</code></strong>: å¯é€‰çš„é…ç½®å¯¹è±¡ï¼Œä¼ é€’ç»™æ’ä»¶çš„ Â <code>install</code>Â  æ–¹æ³•ã€‚</li></ul><h4 id=å®ç°-use class=headerLink><a href=#%e5%ae%9e%e7%8e%b0-use class=header-mark></a>å®ç° use</h4><ol><li>use çš„é€»è¾‘</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>function</span> <span class=nx>use</span><span class=p>(</span><span class=nx>plugin</span><span class=p>,</span> <span class=nx>options</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=k>typeof</span> <span class=nx>plugin</span><span class=p>.</span><span class=nx>install</span> <span class=o>===</span> <span class=s1>&#39;function&#39;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// å¦‚æœæ’ä»¶æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶ä¸”æä¾›äº† install æ–¹æ³•
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>plugin</span><span class=p>.</span><span class=nx>install</span><span class=p>(</span><span class=k>this</span><span class=p>,</span> <span class=nx>options</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=k>typeof</span> <span class=nx>plugin</span> <span class=o>===</span> <span class=s1>&#39;function&#39;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// å¦‚æœæ’ä»¶æ˜¯ä¸€ä¸ªå‡½æ•°
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>plugin</span><span class=p>(</span><span class=k>this</span><span class=p>,</span> <span class=nx>options</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s1>&#39;Plugin must be a function or an object with an install method.&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=k>this</span><span class=p>;</span> <span class=c1>// è¿”å›åº”ç”¨å®ä¾‹ï¼Œæ”¯æŒé“¾å¼è°ƒç”¨
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><ol start=2><li>ä½¿ç”¨</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// è‡ªå®šä¹‰æ’ä»¶
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>myPlugin</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>install</span><span class=p>(</span><span class=nx>app</span><span class=p>,</span> <span class=nx>options</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;My plugin is installed with options:&#39;</span><span class=p>,</span> <span class=nx>options</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=c1>// æ·»åŠ å…¨å±€æ–¹æ³•æˆ–å±æ€§
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>app</span><span class=p>.</span><span class=nx>config</span><span class=p>.</span><span class=nx>globalProperties</span><span class=p>.</span><span class=nx>$myMethod</span> <span class=o>=</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;Hello from my plugin!&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=c1>// æ³¨å†Œå…¨å±€ç»„ä»¶
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>app</span><span class=p>.</span><span class=nx>component</span><span class=p>(</span><span class=s1>&#39;my-component&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>template</span><span class=o>:</span> <span class=s1>&#39;&lt;div&gt;My Custom Component&lt;/div&gt;&#39;</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// ä½¿ç”¨æ’ä»¶
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>createApp</span><span class=p>(</span><span class=nx>App</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=nx>myPlugin</span><span class=p>,</span> <span class=p>{</span> <span class=nx>someOption</span><span class=o>:</span> <span class=kc>true</span> <span class=p>})</span> <span class=c1>// å®‰è£…è‡ªå®šä¹‰æ’ä»¶
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>.</span><span class=nx>mount</span><span class=p>(</span><span class=s1>&#39;#app&#39;</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=promise-ä¸­çš„é“¾å¼è°ƒç”¨ class=headerLink><a href=#promise-%e4%b8%ad%e7%9a%84%e9%93%be%e5%bc%8f%e8%b0%83%e7%94%a8 class=header-mark></a>Promise ä¸­çš„é“¾å¼è°ƒç”¨</h2><h3 id=æ‰‹å†™-promise-æ–¹æ³• class=headerLink><a href=#%e6%89%8b%e5%86%99-promise-%e6%96%b9%e6%b3%95 class=header-mark></a>æ‰‹å†™ Promise æ–¹æ³•</h3><h4 id=promise-aè§„èŒƒ class=headerLink><a href=#promise-a%e8%a7%84%e8%8c%83 class=header-mark></a>Promise A+è§„èŒƒ</h4><p>PromiseA+è§„èŒƒè¯¦ç»†æè¿°äº† JavaScript ä¸­ Promise çš„è¡Œä¸ºæ ‡å‡†ï¼Œç¡®ä¿ä¸åŒçš„ Promise å®ç°å¯ä»¥ç›¸äº’å…¼å®¹ã€‚</p><h5 id=æœ¯è¯­ class=headerLink><a href=#%e6%9c%af%e8%af%ad class=header-mark></a><strong>æœ¯è¯­</strong></h5><p><code>promise</code>ï¼šå…ˆæ˜¯ä¸€ä¸ªå¯¹è±¡æˆ–å‡½æ•°ï¼Œå…¶å…·æœ‰ï¼Œç„¶åæ˜¯æ–¹æ³•ï¼Œå…¶è¡Œä¸ºç¬¦åˆæœ¬è§„èŒƒã€‚
<code>thenable</code>ï¼šå…ˆç”¨ä¸€ä¸ªå…·æœ‰ï¼Œå†ç”¨æ–¹æ³•çš„å¯¹è±¡æˆ–å‡½æ•°ã€‚
<code>value</code>ï¼šä»»ä½•åˆæ³•çš„è„šæœ¬å€¼(åŒ…æ‹¬æœªå®šä¹‰ï¼Œä¸€ä¸ªå·²å¯ç”¨ï¼Œæˆ–ä¸€ä¸ª Promise)ã€‚
<code>exception</code>ï¼šä¸€ä¸ªä½¿ç”¨æŠ›å‡ºè¯­å¥æŠ›å‡ºçš„å€¼ã€‚
<code>reason</code>ï¼šä¸€ä¸ªè¡¨ç¤º Promise è¢«æ‹’ç»çš„åŸå› </p><h5 id=è¦æ±‚ class=headerLink><a href=#%e8%a6%81%e6%b1%82 class=header-mark></a><strong>è¦æ±‚</strong></h5><p><strong>Promise çŠ¶æ€</strong></p><p>ä¸€ä¸ª promise å¿…é¡»å¤„äºä»¥ä¸‹ä¸‰ç§çŠ¶æ€ä¹‹ä¸€ï¼špending(ç­‰å¾…æ€ï¼‰ï¼Œfulfilled(æ‰§è¡Œæ€)ï¼Œæˆ– rejected(æ‹’ç»æ€)ã€‚</p><p><code>pending</code>ï¼šå¯ä»¥è¿ç§»åˆ° fulfilled æˆ– rejected çŠ¶æ€ã€‚
<code>fulfilled</code>ï¼šä¸å¯è¿ç§»åˆ°å…¶ä»–çŠ¶æ€ï¼Œå¿…é¡»æœ‰ä¸€ä¸ª valueã€‚
<code>rejected</code>ï¼šä¸å¯è¿ç§»åˆ°å…¶ä»–çŠ¶æ€ï¼Œå¿…é¡»æœ‰ä¸€ä¸ª reasonã€‚</p><p><strong>then æ–¹æ³•</strong>
ä¸€ä¸ª promise å¿…é¡»æä¾›ä¸€ä¸ª then æ–¹æ³•æ¥è®¿é—®å…¶å½“å‰æˆ–æœ€ç»ˆçš„ value æˆ– reasonã€‚
promise.then(onFulfilled, onRejected)</p><ul><li>onFulfilled å’Œ onRejected éƒ½æ˜¯å¯é€‰å‚æ•°ã€‚</li><li>å¦‚æœ onFulfilled ä¸æ˜¯å‡½æ•°ï¼Œå¿…é¡»å¿½ç•¥å®ƒã€‚</li><li>å¦‚æœ onRejected ä¸æ˜¯å‡½æ•°ï¼Œå¿…é¡»å¿½ç•¥å®ƒã€‚</li></ul><p><strong>onFulfilled çš„æ‰§è¡Œ</strong></p><ul><li>onFulfilled å¿…é¡»åœ¨ promise å®Œæˆåè¢«è°ƒç”¨ï¼Œä¸” promise çš„ value ä½œä¸ºå…¶ç¬¬ä¸€ä¸ªå‚æ•°ã€‚</li><li>onFulfilled ä¸å¾—åœ¨ promise å®Œæˆå‰è¢«è°ƒç”¨ã€‚</li><li>onFulfilled å¿…é¡»åªè¢«è°ƒç”¨ä¸€æ¬¡ã€‚</li></ul><p><strong>onRejected çš„æ‰§è¡Œ</strong></p><ul><li>onRejected å¿…é¡»åœ¨ promise è¢«æ‹’ç»åè¢«è°ƒç”¨ï¼Œä¸” promise çš„ reason ä½œä¸ºå…¶ç¬¬ä¸€ä¸ªå‚æ•°ã€‚</li><li>onRejected ä¸å¾—åœ¨ promise è¢«æ‹’ç»å‰è¢«è°ƒç”¨ã€‚</li><li>onRejected å¿…é¡»åªè¢«è°ƒç”¨ä¸€æ¬¡ã€‚</li></ul><p><strong>then æ–¹æ³•å¿…é¡»è¿”å›ä¸€ä¸ª promise</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>promise2</span> <span class=o>=</span> <span class=nx>promise1</span><span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>onFulfilled</span><span class=p>,</span> <span class=nx>onRejected</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div><p>promise2 å¿…é¡»æ˜¯ä¸€ä¸ªæ–°çš„ promiseã€‚</p><p><strong>å¤„ç†è¿”å›çš„å€¼</strong></p><ul><li>å¦‚æœ onFulfilled æˆ– onRejected è¿”å›ä¸€ä¸ªå€¼ï¼Œåˆ™è¿è¡Œ Promise è§£å†³ç¨‹åº<code>Resolve(promise2, x)</code>ã€‚</li><li>å¦‚æœ onFulfilled æˆ– onRejected æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼Œåˆ™ promise2 å¿…é¡»ä»¥ä½œä¸ºæ‹’ç»åŸå› ã€‚</li><li>å¦‚æœ onFulfilled ä¸æ˜¯ä¸€ä¸ªå‡½æ•°ä¸” promise1 å®Œæˆï¼Œpromise2 å¿…é¡»ä»¥ promise1 çš„ value ä½œä¸ºå…¶ valueã€‚</li><li>å¦‚æœ onRejected ä¸æ˜¯ä¸€ä¸ªå‡½æ•°ä¸” promise1 è¢«æ‹’ç»ï¼Œpromise2 å¿…é¡»ä»¥ promise1 çš„ reason ä½œä¸ºå…¶ reasonã€‚</li></ul><h4 id=ä»£ç ç¤ºä¾‹-1 class=headerLink><a href=#%e4%bb%a3%e7%a0%81%e7%a4%ba%e4%be%8b-1 class=header-mark></a>ä»£ç ç¤ºä¾‹</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>PENDING</span> <span class=o>=</span> <span class=s1>&#39;pending&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>FULFILLED</span> <span class=o>=</span> <span class=s1>&#39;fulfilled&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>REJECTED</span> <span class=o>=</span> <span class=s1>&#39;rejected&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>isFunction</span><span class=p>(</span><span class=nx>fn</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nb>Object</span><span class=p>.</span><span class=nx>prototype</span><span class=p>.</span><span class=nx>toString</span><span class=p>.</span><span class=nx>call</span><span class=p>(</span><span class=nx>fn</span><span class=p>)</span> <span class=o>===</span> <span class=s1>&#39;[object Function]&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>myPromise</span><span class=p>(</span><span class=nx>fn</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=k>this</span> <span class=o>||</span> <span class=k>this</span><span class=p>.</span><span class=nx>constructor</span> <span class=o>!==</span> <span class=nx>myPromise</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>throw</span> <span class=k>new</span> <span class=nx>TypeError</span><span class=p>(</span><span class=s1>&#39;Promise must be called with new&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>isFunction</span><span class=p>(</span><span class=nx>fn</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>throw</span> <span class=k>new</span> <span class=nx>TypeError</span><span class=p>(</span><span class=s1>&#39;Promise resolver undefined is not a function&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>=</span> <span class=nx>PENDING</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>this</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=k>void</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>this</span><span class=p>.</span><span class=nx>reason</span> <span class=o>=</span> <span class=k>void</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>this</span><span class=p>.</span><span class=nx>onFulfilledCallbacks</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>  <span class=k>this</span><span class=p>.</span><span class=nx>onRejectedCallbacks</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>resolve</span> <span class=o>=</span> <span class=nx>value</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>===</span> <span class=nx>PENDING</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>=</span> <span class=nx>FULFILLED</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=k>this</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=nx>value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=c1>// å‘å¸ƒ
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=k>this</span><span class=p>.</span><span class=nx>onFulfilledCallbacks</span><span class=p>.</span><span class=nx>forEach</span><span class=p>(</span><span class=nx>fn</span> <span class=p>=&gt;</span> <span class=nx>fn</span><span class=p>());</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>reject</span> <span class=o>=</span> <span class=nx>reason</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>===</span> <span class=nx>PENDING</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>=</span> <span class=nx>REJECTED</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=k>this</span><span class=p>.</span><span class=nx>reason</span> <span class=o>=</span> <span class=nx>reason</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=c1>// å‘å¸ƒ
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=k>this</span><span class=p>.</span><span class=nx>onRejectedCallbacks</span><span class=p>.</span><span class=nx>forEach</span><span class=p>(</span><span class=nx>fn</span> <span class=p>=&gt;</span> <span class=nx>fn</span><span class=p>());</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>fn</span><span class=p>(</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>reject</span><span class=p>(</span><span class=nx>e</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// æ·»åŠ  then åŸå‹æ–¹æ³•
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>myPromise</span><span class=p>.</span><span class=nx>prototype</span><span class=p>.</span><span class=nx>then</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>(</span><span class=nx>onFulfilled</span><span class=p>,</span> <span class=nx>onRejected</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// å¤„ç†è¾¹ç•Œ
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>onFulfilled</span> <span class=o>=</span> <span class=nx>isFunction</span><span class=p>(</span><span class=nx>onFulfilled</span><span class=p>)</span> <span class=o>?</span> <span class=nx>onFulfilled</span> <span class=o>:</span> <span class=nx>value</span> <span class=p>=&gt;</span> <span class=nx>value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nx>onRejected</span> <span class=o>=</span> <span class=nx>isFunction</span><span class=p>(</span><span class=nx>onRejected</span><span class=p>)</span> <span class=o>?</span> <span class=nx>onRejected</span> <span class=o>:</span> <span class=nx>reason</span> <span class=p>=&gt;</span> <span class=p>{</span> <span class=k>throw</span> <span class=nx>reason</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// è¿”å›ä¸€ä¸ªæ–°çš„ Promise
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>const</span> <span class=nx>promise2</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>myPromise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>===</span> <span class=nx>FULFILLED</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=kr>const</span> <span class=nx>x</span> <span class=o>=</span> <span class=nx>onFulfilled</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>value</span><span class=p>);</span>
</span></span><span class=line><span class=cl>          <span class=nx>resolve</span><span class=p>(</span><span class=nx>x</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>reject</span><span class=p>(</span><span class=nx>e</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span> <span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>===</span> <span class=nx>REJECTED</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=kr>const</span> <span class=nx>x</span> <span class=o>=</span> <span class=nx>onRejected</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>reason</span><span class=p>);</span>
</span></span><span class=line><span class=cl>          <span class=nx>resolve</span><span class=p>(</span><span class=nx>x</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>reject</span><span class=p>(</span><span class=nx>e</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span> <span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>===</span> <span class=nx>PENDING</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=c1>// è®¢é˜…
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=k>this</span><span class=p>.</span><span class=nx>onFulfilledCallbacks</span><span class=p>.</span><span class=nx>push</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=kr>const</span> <span class=nx>x</span> <span class=o>=</span> <span class=nx>onFulfilled</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>value</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=nx>resolve</span><span class=p>(</span><span class=nx>x</span><span class=p>);</span>
</span></span><span class=line><span class=cl>          <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>reject</span><span class=p>(</span><span class=nx>e</span><span class=p>);</span>
</span></span><span class=line><span class=cl>          <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span> <span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=k>this</span><span class=p>.</span><span class=nx>onRejectedCallbacks</span><span class=p>.</span><span class=nx>push</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=kr>const</span> <span class=nx>x</span> <span class=o>=</span> <span class=nx>onRejected</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>reason</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=nx>resolve</span><span class=p>(</span><span class=nx>x</span><span class=p>);</span>
</span></span><span class=line><span class=cl>          <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>reject</span><span class=p>(</span><span class=nx>e</span><span class=p>);</span>
</span></span><span class=line><span class=cl>          <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span> <span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>promise2</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// æµ‹è¯•
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>promise</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>myPromise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>resolve</span><span class=p>(</span><span class=s1>&#39;success&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span> <span class=mi>1000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>promise</span><span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>value</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>value</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=s1>&#39;msg from then1&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}).</span><span class=nx>then</span><span class=p>(</span><span class=nx>value</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>value</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=s1>&#39;msg from then2&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}).</span><span class=nx>then</span><span class=p>(</span><span class=nx>value</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>value</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=å®ç°é“¾å¼è°ƒç”¨ class=headerLink><a href=#%e5%ae%9e%e7%8e%b0%e9%93%be%e5%bc%8f%e8%b0%83%e7%94%a8 class=header-mark></a>å®ç°é“¾å¼è°ƒç”¨</h2><h3 id=ä¾‹é¢˜ class=headerLink><a href=#%e4%be%8b%e9%a2%98 class=header-mark></a>ä¾‹é¢˜</h3><p>é™åˆ¶ç”¨ JavaScript å®ç°ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>Student</span><span class=p>(</span><span class=s2>&#34;Alice&#34;</span><span class=p>);</span> <span class=c1>// è¾“å‡º I am Alice
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=nx>Student</span><span class=p>(</span><span class=s2>&#34;Alice&#34;</span><span class=p>).</span><span class=nx>rest</span><span class=p>(</span><span class=mi>10</span><span class=p>).</span><span class=nx>learn</span><span class=p>(</span><span class=s2>&#34;computer&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=cm>/* è¾“å‡º
</span></span></span><span class=line><span class=cl><span class=cm>I am Alice
</span></span></span><span class=line><span class=cl><span class=cm>ç»è¿‡10ç§’å
</span></span></span><span class=line><span class=cl><span class=cm>After 10 seconds
</span></span></span><span class=line><span class=cl><span class=cm>Learning computer
</span></span></span><span class=line><span class=cl><span class=cm>*/</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>Student</span><span class=p>(</span><span class=s2>&#34;Alice&#34;</span><span class=p>).</span><span class=nx>restFirst</span><span class=p>(</span><span class=mi>5</span><span class=p>).</span><span class=nx>learn</span><span class=p>(</span><span class=s2>&#34;Math&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=cm>/* è¾“å‡º
</span></span></span><span class=line><span class=cl><span class=cm>I am Alice
</span></span></span><span class=line><span class=cl><span class=cm>ç»è¿‡5ç§’å
</span></span></span><span class=line><span class=cl><span class=cm>After 5 seconds
</span></span></span><span class=line><span class=cl><span class=cm>Learning Math
</span></span></span><span class=line><span class=cl><span class=cm>*/</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=ä»£ç  class=headerLink><a href=#%e4%bb%a3%e7%a0%81 class=header-mark></a>ä»£ç </h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Student</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>(</span><span class=nx>name</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>name</span> <span class=o>=</span> <span class=nx>name</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>tasks</span> <span class=o>=</span> <span class=p>[];</span> <span class=c1>// ä»»åŠ¡é˜Ÿåˆ—
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>this</span><span class=p>.</span><span class=nx>tasks</span><span class=p>.</span><span class=nx>push</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`I am </span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>name</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=k>this</span><span class=p>.</span><span class=nx>next</span><span class=p>();</span> <span class=c1>// æ‰§è¡Œä¸‹ä¸€ä¸ªä»»åŠ¡
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=p>});</span>
</span></span><span class=line><span class=cl>        <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=k>this</span><span class=p>.</span><span class=nx>next</span><span class=p>(),</span> <span class=mi>0</span><span class=p>);</span> <span class=c1>// å¼‚æ­¥å¯åŠ¨ä»»åŠ¡é˜Ÿåˆ—
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>next</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>task</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>tasks</span><span class=p>.</span><span class=nx>shift</span><span class=p>();</span> <span class=c1>// å–å‡ºé˜Ÿåˆ—ä¸­çš„ç¬¬ä¸€ä¸ªä»»åŠ¡
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>task</span> <span class=o>&amp;&amp;</span> <span class=nx>task</span><span class=p>();</span> <span class=c1>// å¦‚æœä»»åŠ¡å­˜åœ¨ï¼Œåˆ™æ‰§è¡Œ
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>rest</span><span class=p>(</span><span class=nx>seconds</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>tasks</span><span class=p>.</span><span class=nx>push</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`After </span><span class=si>${</span><span class=nx>seconds</span><span class=si>}</span><span class=sb> seconds`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=k>this</span><span class=p>.</span><span class=nx>next</span><span class=p>();</span> <span class=c1>// æ‰§è¡Œä¸‹ä¸€ä¸ªä»»åŠ¡
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=p>},</span> <span class=nx>seconds</span> <span class=o>*</span> <span class=mi>1000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>});</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>;</span> <span class=c1>// è¿”å›thisä»¥æ”¯æŒé“¾å¼è°ƒç”¨
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>restFirst</span><span class=p>(</span><span class=nx>seconds</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>tasks</span><span class=p>.</span><span class=nx>unshift</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`After </span><span class=si>${</span><span class=nx>seconds</span><span class=si>}</span><span class=sb> seconds`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=k>this</span><span class=p>.</span><span class=nx>next</span><span class=p>();</span> <span class=c1>// æ‰§è¡Œä¸‹ä¸€ä¸ªä»»åŠ¡
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=p>},</span> <span class=nx>seconds</span> <span class=o>*</span> <span class=mi>1000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>});</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>;</span> <span class=c1>// è¿”å›thisä»¥æ”¯æŒé“¾å¼è°ƒç”¨
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>learn</span><span class=p>(</span><span class=nx>subject</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>tasks</span><span class=p>.</span><span class=nx>push</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`Learning </span><span class=si>${</span><span class=nx>subject</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=k>this</span><span class=p>.</span><span class=nx>next</span><span class=p>();</span> <span class=c1>// æ‰§è¡Œä¸‹ä¸€ä¸ªä»»åŠ¡
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=p>});</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>;</span> <span class=c1>// è¿”å›thisä»¥æ”¯æŒé“¾å¼è°ƒç”¨
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// æµ‹è¯•ç”¨ä¾‹
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>new</span> <span class=nx>Student</span><span class=p>(</span><span class=s2>&#34;Alice&#34;</span><span class=p>);</span> <span class=c1>// è¾“å‡º I am Alice
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=k>new</span> <span class=nx>Student</span><span class=p>(</span><span class=s2>&#34;Alice&#34;</span><span class=p>).</span><span class=nx>rest</span><span class=p>(</span><span class=mi>10</span><span class=p>).</span><span class=nx>learn</span><span class=p>(</span><span class=s2>&#34;computer&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=cm>/* è¾“å‡º
</span></span></span><span class=line><span class=cl><span class=cm>I am Alice
</span></span></span><span class=line><span class=cl><span class=cm>ç»è¿‡10ç§’å
</span></span></span><span class=line><span class=cl><span class=cm>After 10 seconds
</span></span></span><span class=line><span class=cl><span class=cm>Learning computer
</span></span></span><span class=line><span class=cl><span class=cm>*/</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>new</span> <span class=nx>Student</span><span class=p>(</span><span class=s2>&#34;Alice&#34;</span><span class=p>).</span><span class=nx>restFirst</span><span class=p>(</span><span class=mi>5</span><span class=p>).</span><span class=nx>learn</span><span class=p>(</span><span class=s2>&#34;Math&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=cm>/* è¾“å‡º
</span></span></span><span class=line><span class=cl><span class=cm>I am Alice
</span></span></span><span class=line><span class=cl><span class=cm>ç»è¿‡5ç§’å
</span></span></span><span class=line><span class=cl><span class=cm>After 5 seconds
</span></span></span><span class=line><span class=cl><span class=cm>Learning Math
</span></span></span><span class=line><span class=cl><span class=cm>*/</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=å‘å¸ƒè®¢é˜…æ¨¡å¼-vs-è§‚å¯Ÿè€…æ¨¡å¼ class=headerLink><a href=#%e5%8f%91%e5%b8%83%e8%ae%a2%e9%98%85%e6%a8%a1%e5%bc%8f-vs-%e8%a7%82%e5%af%9f%e8%80%85%e6%a8%a1%e5%bc%8f class=header-mark></a>å‘å¸ƒè®¢é˜…æ¨¡å¼ vs è§‚å¯Ÿè€…æ¨¡å¼</h2><p>å‘å¸ƒ-è®¢é˜…æ¨¡å¼ï¼ˆPub-Subï¼‰å’Œè§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserverï¼‰æ˜¯ä¸¤ç§å¸¸è§çš„è®¾è®¡æ¨¡å¼ï¼Œå®ƒä»¬éƒ½ç”¨äºå¤„ç†å¯¹è±¡ä¹‹é—´çš„é€šä¿¡å’Œäº‹ä»¶å¤„ç†ã€‚</p><h3 id=è§‚å¯Ÿè€…æ¨¡å¼observer-pattern class=headerLink><a href=#%e8%a7%82%e5%af%9f%e8%80%85%e6%a8%a1%e5%bc%8fobserver-pattern class=header-mark></a><strong>è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰</strong></h3><p>è§‚å¯Ÿè€…æ¨¡å¼å®šä¹‰äº†ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡ï¼ˆç§°ä¸º<strong>Subject</strong>ï¼Œä¸»é¢˜ï¼‰çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡ï¼ˆç§°ä¸º<strong>Observers</strong>ï¼Œè§‚å¯Ÿè€…ï¼‰éƒ½ä¼šæ”¶åˆ°é€šçŸ¥å¹¶è‡ªåŠ¨æ›´æ–°ã€‚</p><p>Subject</p><ul><li>ç»´æŠ¤ä¸€ä¸ªè§‚å¯Ÿè€…åˆ—è¡¨ã€‚</li><li>æä¾›æ³¨å†Œï¼ˆ<code>attach</code>ï¼‰å’Œæ³¨é”€ï¼ˆ<code>detach</code>ï¼‰è§‚å¯Ÿè€…çš„æ–¹æ³•ã€‚</li><li>åœ¨çŠ¶æ€å˜åŒ–æ—¶é€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…ï¼ˆ<code>notify</code>ï¼‰ã€‚</li></ul><p>Observerï¼ˆè§‚å¯Ÿè€…ï¼‰</p><ul><li>å®šä¹‰ä¸€ä¸ªæ›´æ–°æ¥å£ï¼ˆ<code>update</code>ï¼‰ï¼Œç”¨äºæ¥æ”¶ä¸»é¢˜çš„é€šçŸ¥ã€‚</li></ul><h4 id=ä»£ç ç¤ºä¾‹-2 class=headerLink><a href=#%e4%bb%a3%e7%a0%81%e7%a4%ba%e4%be%8b-2 class=header-mark></a>ä»£ç ç¤ºä¾‹</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Subject</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>observers</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>attach</span><span class=p>(</span><span class=nx>observer</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>observers</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=nx>observer</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>detach</span><span class=p>(</span><span class=nx>observer</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>observers</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>observers</span><span class=p>.</span><span class=nx>filter</span><span class=p>(</span><span class=nx>obs</span> <span class=p>=&gt;</span> <span class=nx>obs</span> <span class=o>!==</span> <span class=nx>observer</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>notify</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>observers</span><span class=p>.</span><span class=nx>forEach</span><span class=p>(</span><span class=nx>observer</span> <span class=p>=&gt;</span> <span class=nx>observer</span><span class=p>.</span><span class=nx>update</span><span class=p>());</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Observer</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>(</span><span class=nx>name</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>name</span> <span class=o>=</span> <span class=nx>name</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>update</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`</span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>name</span><span class=si>}</span><span class=sb> received an update!`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// ä½¿ç”¨
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>subject</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Subject</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>observer1</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Observer</span><span class=p>(</span><span class=s1>&#39;Observer 1&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>observer2</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Observer</span><span class=p>(</span><span class=s1>&#39;Observer 2&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>subject</span><span class=p>.</span><span class=nx>attach</span><span class=p>(</span><span class=nx>observer1</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>subject</span><span class=p>.</span><span class=nx>attach</span><span class=p>(</span><span class=nx>observer2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>subject</span><span class=p>.</span><span class=nx>notify</span><span class=p>();</span> <span class=c1>// Observer 1 received an update! Observer 2 received an update!
</span></span></span></code></pre></td></tr></table></div></div><h3 id=å‘å¸ƒ-è®¢é˜…æ¨¡å¼pub-sub-pattern class=headerLink><a href=#%e5%8f%91%e5%b8%83-%e8%ae%a2%e9%98%85%e6%a8%a1%e5%bc%8fpub-sub-pattern class=header-mark></a><strong>å‘å¸ƒ-è®¢é˜…æ¨¡å¼ï¼ˆPub-Sub Patternï¼‰</strong></h3><p>å‘å¸ƒ-è®¢é˜…æ¨¡å¼é€šè¿‡ä¸€ä¸ª<strong>äº‹ä»¶ä¸­å¿ƒ</strong>ï¼ˆEvent Busï¼‰æ¥è§£è€¦å‘å¸ƒè€…å’Œè®¢é˜…è€…ã€‚å‘å¸ƒè€…å°†æ¶ˆæ¯å‘å¸ƒåˆ°äº‹ä»¶ä¸­å¿ƒï¼Œè®¢é˜…è€…ä»äº‹ä»¶ä¸­å¿ƒè®¢é˜…æ„Ÿå…´è¶£çš„æ¶ˆæ¯ã€‚å‘å¸ƒè€…å’Œè®¢é˜…è€…ä¹‹é—´æ²¡æœ‰ç›´æ¥çš„ä¾èµ–å…³ç³»ã€‚</p><h4 id=å…³é”®è§’è‰² class=headerLink><a href=#%e5%85%b3%e9%94%ae%e8%a7%92%e8%89%b2 class=header-mark></a>å…³é”®è§’è‰²</h4><p><strong>Publisherï¼ˆå‘å¸ƒè€…ï¼‰</strong>ï¼š è´Ÿè´£å‘å¸ƒæ¶ˆæ¯åˆ°äº‹ä»¶ä¸­å¿ƒã€‚</p><p><strong>Subscriberï¼ˆè®¢é˜…è€…ï¼‰</strong>ï¼š å‘äº‹ä»¶ä¸­å¿ƒè®¢é˜…æ„Ÿå…´è¶£çš„æ¶ˆæ¯ã€‚</p><p><strong>Event Busï¼ˆäº‹ä»¶ä¸­å¿ƒï¼‰</strong>ï¼šç»´æŠ¤ä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—å’Œè®¢é˜…è€…åˆ—è¡¨ï¼›è´Ÿè´£å°†æ¶ˆæ¯åˆ†å‘ç»™è®¢é˜…è€…ã€‚</p><h4 id=ä»£ç ç¤ºä¾‹-3 class=headerLink><a href=#%e4%bb%a3%e7%a0%81%e7%a4%ba%e4%be%8b-3 class=header-mark></a>ä»£ç ç¤ºä¾‹</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>class</span> <span class=nx>EventBus</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>constructor</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>events</span> <span class=o>=</span> <span class=p>{};</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>subscribe</span><span class=p>(</span><span class=nx>event</span><span class=p>,</span> <span class=nx>callback</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=k>this</span><span class=p>.</span><span class=nx>events</span><span class=p>[</span><span class=nx>event</span><span class=p>])</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>this</span><span class=p>.</span><span class=nx>events</span><span class=p>[</span><span class=nx>event</span><span class=p>]</span> <span class=o>=</span> <span class=p>[];</span>  <span class=c1>// åˆå§‹åŒ–äº‹ä»¶é˜Ÿåˆ—
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>events</span><span class=p>[</span><span class=nx>event</span><span class=p>].</span><span class=nx>push</span><span class=p>(</span><span class=nx>callback</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>publish</span><span class=p>(</span><span class=nx>event</span><span class=p>,</span> <span class=nx>data</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// è¾¹ç•Œæ£€æŸ¥
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=k>this</span><span class=p>.</span><span class=nx>events</span><span class=p>[</span><span class=nx>event</span><span class=p>])</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>events</span><span class=p>[</span><span class=nx>event</span><span class=p>])</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>this</span><span class=p>.</span><span class=nx>events</span><span class=p>[</span><span class=nx>event</span><span class=p>].</span><span class=nx>forEach</span><span class=p>(</span><span class=nx>callback</span> <span class=p>=&gt;</span> <span class=nx>callback</span><span class=p>(</span><span class=nx>data</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// ä½¿ç”¨
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>eventBus</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>EventBus</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// è®¢é˜…è€…
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>eventBus</span><span class=p>.</span><span class=nx>subscribe</span><span class=p>(</span><span class=s1>&#39;news&#39;</span><span class=p>,</span> <span class=nx>data</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`Subscriber 1 received news: </span><span class=si>${</span><span class=nx>data</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>eventBus</span><span class=p>.</span><span class=nx>subscribe</span><span class=p>(</span><span class=s1>&#39;news&#39;</span><span class=p>,</span> <span class=nx>data</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`Subscriber 2 received news: </span><span class=si>${</span><span class=nx>data</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å‘å¸ƒè€…
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>eventBus</span><span class=p>.</span><span class=nx>publish</span><span class=p>(</span><span class=s1>&#39;news&#39;</span><span class=p>,</span> <span class=s1>&#39;Breaking news!&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1>// è¾“å‡ºï¼š
</span></span></span><span class=line><span class=cl><span class=c1>// Subscriber 1 received news: Breaking news!
</span></span></span><span class=line><span class=cl><span class=c1>// Subscriber 2 received news: Breaking news!
</span></span></span></code></pre></td></tr></table></div></div><h3 id=ä¸»è¦åŒºåˆ« class=headerLink><a href=#%e4%b8%bb%e8%a6%81%e5%8c%ba%e5%88%ab class=header-mark></a>ä¸»è¦åŒºåˆ«</h3><table><thead><tr><th style=text-align:center>ç‰¹æ€§</th><th style=text-align:center>è§‚å¯Ÿè€…æ¨¡å¼</th><th style=text-align:center>å‘å¸ƒ-è®¢é˜…æ¨¡å¼</th></tr></thead><tbody><tr><td style=text-align:center><strong>é€šä¿¡æ–¹å¼</strong></td><td style=text-align:center>ç›´æ¥é€šä¿¡ï¼ˆä¸»é¢˜ç›´æ¥é€šçŸ¥è§‚å¯Ÿè€…ï¼‰</td><td style=text-align:center>é—´æ¥é€šä¿¡ï¼ˆé€šè¿‡äº‹ä»¶ä¸­å¿ƒï¼‰</td></tr><tr><td style=text-align:center><strong>è€¦åˆåº¦</strong></td><td style=text-align:center>å¼ºè€¦åˆï¼ˆè§‚å¯Ÿè€…å’Œä¸»é¢˜ç›´æ¥å…³è”ï¼‰</td><td style=text-align:center>æ¾è€¦åˆï¼ˆå‘å¸ƒè€…å’Œè®¢é˜…è€…è§£è€¦ï¼‰</td></tr><tr><td style=text-align:center><strong>è§’è‰²</strong></td><td style=text-align:center>ä¸»é¢˜ï¼ˆSubjectï¼‰å’Œè§‚å¯Ÿè€…ï¼ˆObserverï¼‰</td><td style=text-align:center>å‘å¸ƒè€…ï¼ˆPublisherï¼‰ã€è®¢é˜…è€…ï¼ˆSubscriberï¼‰ã€äº‹ä»¶ä¸­å¿ƒï¼ˆEvent Busï¼‰</td></tr><tr><td style=text-align:center><strong>é€‚ç”¨åœºæ™¯</strong></td><td style=text-align:center>ç®€å•çš„å¯¹è±¡é—´é€šä¿¡</td><td style=text-align:center>å¤æ‚çš„ç³»ç»Ÿï¼Œéœ€è¦è§£è€¦çš„åœºæ™¯</td></tr><tr><td style=text-align:center><strong>å®ç°å¤æ‚åº¦</strong></td><td style=text-align:center>ç®€å•</td><td style=text-align:center>ç›¸å¯¹å¤æ‚</td></tr><tr><td style=text-align:center><strong>åŒæ­¥/å¼‚æ­¥</strong></td><td style=text-align:center>é€šå¸¸æ˜¯åŒæ­¥çš„</td><td style=text-align:center>å¯ä»¥æ˜¯å¼‚æ­¥çš„</td></tr></tbody></table><h4 id=åº”ç”¨ class=headerLink><a href=#%e5%ba%94%e7%94%a8 class=header-mark></a>åº”ç”¨</h4><h5 id=è§‚å¯Ÿè€…æ¨¡å¼ class=headerLink><a href=#%e8%a7%82%e5%af%9f%e8%80%85%e6%a8%a1%e5%bc%8f class=header-mark></a>è§‚å¯Ÿè€…æ¨¡å¼</h5><ul><li>GUI æ¡†æ¶ä¸­çš„äº‹ä»¶å¤„ç†ï¼ˆå¦‚æŒ‰é’®ç‚¹å‡»äº‹ä»¶ï¼‰ã€‚</li><li>æ•°æ®æ¨¡å‹å’Œè§†å›¾ä¹‹é—´çš„ç»‘å®šï¼ˆå¦‚ MVC æ¨¡å¼ï¼‰ã€‚</li><li>ç®€å•çš„å¯¹è±¡é—´é€šä¿¡åœºæ™¯ã€‚</li></ul><h5 id=å‘å¸ƒ-è®¢é˜…æ¨¡å¼ class=headerLink><a href=#%e5%8f%91%e5%b8%83-%e8%ae%a2%e9%98%85%e6%a8%a1%e5%bc%8f class=header-mark></a>å‘å¸ƒ-è®¢é˜…æ¨¡å¼</h5><ul><li>æ¶ˆæ¯é˜Ÿåˆ—ç³»ç»Ÿï¼ˆå¦‚ RabbitMQã€Kafkaï¼‰ã€‚</li><li>äº‹ä»¶é©±åŠ¨æ¶æ„ï¼ˆå¦‚ Node.js çš„ EventEmitterï¼‰ã€‚</li><li>éœ€è¦è§£è€¦çš„å¤æ‚ç³»ç»Ÿï¼ˆå¦‚å¾®æœåŠ¡ä¹‹é—´çš„é€šä¿¡ï¼‰ã€‚</li></ul></div><h2>ç›¸å…³å†…å®¹</h2><div class=related-container><div class=related-item-container><div class=related-image><a href=/posts/large_file_upload/><img loading=lazy src=https://img.dodolalorc.cn/i/2025/03/03/67c558f57d10e.png srcset="https://img.dodolalorc.cn/i/2025/03/03/67c558f57d10e.png, https://img.dodolalorc.cn/i/2025/03/03/67c558f57d10e.png 1.5x, https://img.dodolalorc.cn/i/2025/03/03/67c558f57d10e.png 2x" sizes=auto alt=https://img.dodolalorc.cn/i/2025/03/03/67c558f57d10e.png title=https://img.dodolalorc.cn/i/2025/03/03/67c558f57d10e.png height=200 width=400></a></div><h2 class=related-title><a href=/posts/large_file_upload/>å¤§æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½é—®é¢˜</a></h2></div><div class=related-item-container><div class=related-image><a href=/posts/flow_control/><img loading=lazy src=https://img.dodolalorc.cn/i/2025/03/03/67c5599367fe0.jpg srcset="https://img.dodolalorc.cn/i/2025/03/03/67c5599367fe0.jpg, https://img.dodolalorc.cn/i/2025/03/03/67c5599367fe0.jpg 1.5x, https://img.dodolalorc.cn/i/2025/03/03/67c5599367fe0.jpg 2x" sizes=auto alt=https://img.dodolalorc.cn/i/2025/03/03/67c5599367fe0.jpg title=https://img.dodolalorc.cn/i/2025/03/03/67c5599367fe0.jpg height=200 width=400></a></div><h2 class=related-title><a href=/posts/flow_control/>å‰ç«¯æµé‡æ§åˆ¶å¸¸ç”¨æ‰‹æ®µ</a></h2></div><div class=related-item-container><div class=related-image><a href=/posts/cart_page_sample/><img loading=lazy src=https://img.dodolalorc.cn/i/2025/03/03/67c558f57d10e.png srcset="https://img.dodolalorc.cn/i/2025/03/03/67c558f57d10e.png, https://img.dodolalorc.cn/i/2025/03/03/67c558f57d10e.png 1.5x, https://img.dodolalorc.cn/i/2025/03/03/67c558f57d10e.png 2x" sizes=auto alt=https://img.dodolalorc.cn/i/2025/03/03/67c558f57d10e.png title=https://img.dodolalorc.cn/i/2025/03/03/67c558f57d10e.png height=200 width=400></a></div><h2 class=related-title><a href=/posts/cart_page_sample/>è´­ç‰©è½¦é¡µé¢åˆ¶ä½œæ•™ç¨‹ï¼ˆåŒ…å«åˆ†é¡µè®¾è®¡ï¼‰</a></h2></div><div class=related-item-container><h2 class=related-title><a href=/posts/mutationobserver/>MutationObserverå­¦ä¹ +å®è·µ</a></h2></div><div class=related-item-container><h2 class=related-title><a href=/posts/vue_svgicon/>Vue3å°è£…ä¸€ä¸ªSVGç»„ä»¶</a></h2></div></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>æ›´æ–°äº 2025-03-17</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md><span><a class=link-to-mardown href=/posts/method_chaining/index.md target=_blank rel="noopener noreferrer">é˜…è¯»åŸå§‹æ–‡æ¡£</a></span></div><div class=post-info-share><span><a href=# title="åˆ†äº«åˆ° Twitter" data-sharer=twitter data-url=http://dodolalorc.cn/posts/method_chaining/ data-title="JavaScript é“¾å¼è°ƒç”¨ | è®¾è®¡æ¨¡å¼ ç¬”è®°" data-hashtags=å‰ç«¯,é“¾å¼è°ƒç”¨,JavaScript><i class="fab fa-twitter fa-fw"></i></a><a href=# title="åˆ†äº«åˆ° Facebook" data-sharer=facebook data-url=http://dodolalorc.cn/posts/method_chaining/ data-hashtag=å‰ç«¯><i class="fab fa-facebook-square fa-fw"></i></a><a href=# title="åˆ†äº«åˆ° Hacker News" data-sharer=hackernews data-url=http://dodolalorc.cn/posts/method_chaining/ data-title="JavaScript é“¾å¼è°ƒç”¨ | è®¾è®¡æ¨¡å¼ ç¬”è®°"><i class="fab fa-hacker-news fa-fw"></i></a><a href=# title="åˆ†äº«åˆ° Line" data-sharer=line data-url=http://dodolalorc.cn/posts/method_chaining/ data-title="JavaScript é“¾å¼è°ƒç”¨ | è®¾è®¡æ¨¡å¼ ç¬”è®°"><i data-svg-src=/lib/simple-icons/icons/line.min.svg></i></a><a href=# title="åˆ†äº«åˆ° å¾®åš" data-sharer=weibo data-url=http://dodolalorc.cn/posts/method_chaining/ data-title="JavaScript é“¾å¼è°ƒç”¨ | è®¾è®¡æ¨¡å¼ ç¬”è®°" data-image=https://img.dodolalorc.cn/i/2025/03/03/67c55994138f8.jpg><i class="fab fa-weibo fa-fw"></i></a><a href=# title="åˆ†äº«åˆ° ç™¾åº¦" data-sharer=baidu data-url=http://dodolalorc.cn/posts/method_chaining/ data-title="JavaScript é“¾å¼è°ƒç”¨ | è®¾è®¡æ¨¡å¼ ç¬”è®°"><i data-svg-src=/lib/simple-icons/icons/baidu.min.svg></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/%E5%89%8D%E7%AB%AF/>å‰ç«¯</a>,&nbsp;<a href=/tags/%E9%93%BE%E5%BC%8F%E8%B0%83%E7%94%A8/>é“¾å¼è°ƒç”¨</a>,&nbsp;<a href=/tags/javascript/>JavaScript</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>è¿”å›</a></span>&nbsp;|&nbsp;<span><a href=/>ä¸»é¡µ</a></span></section></div><div class=post-nav><a href=/posts/lchot100/ class=prev rel=prev title="LeetCode Hot 100è®°å½•ï¼ˆ19/100ï¼‰"><i class="fas fa-angle-left fa-fw"></i>LeetCode Hot 100è®°å½•ï¼ˆ19/100ï¼‰</a>
<a href=/posts/flow_control/ class=next rel=next title=å‰ç«¯æµé‡æ§åˆ¶å¸¸ç”¨æ‰‹æ®µ>å‰ç«¯æµé‡æ§åˆ¶å¸¸ç”¨æ‰‹æ®µ<i class="fas fa-angle-right fa-fw"></i></a></div></div><div id=comments><div id=giscus></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://giscus.app/>giscus</a>.</noscript></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line><span id=run-time></span></div><div class=footer-line>ç”± <a href=https://gohugo.io/ target=_blank rel="noopener noreferrer" title="Hugo 0.145.0">Hugo</a> å¼ºåŠ›é©±åŠ¨&nbsp;|&nbsp;ä¸»é¢˜ - <a href=https://github.com/HEIGE-PCloud/DoIt target=_blank rel="noopener noreferrer" title="DoIt 0.3.0"><i class="far fa-edit fa-fw"></i> DoIt</a></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2023 - 2025</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://dodolalorc.cn/ target=_blank rel="noopener noreferrer">DODOLA</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span><span class=icp-splitter>&nbsp;|&nbsp;</span><br class=icp-br><span class=icp><p class=beian><img class=beian-icon src=/img/icons/govbeian.png><a class=gov href="https://beian.mps.gov.cn/#/query/webSearch?code=33010902003733" rel=noreferrer title=æµ™å…¬ç½‘å®‰å¤‡33010902003733 target=_blank>æµ™å…¬ç½‘å®‰å¤‡33010902003733</a><a class=icp href=https://beian.miit.gov.cn/#/Integrated/index target=_blank title=æµ™ICPå¤‡2023048052å·-1>æµ™ICPå¤‡2023048052å·-1</a></p></span></div><div class=footer-line></div><div class=footer-line><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><section><span id=busuanzi_container_value_site_pv><i class="far fa-eye fa-fw"></i>
<span id=busuanzi_value_site_pv></span>
</span>&nbsp;|&nbsp;
<span id=busuanzi_container_value_site_uv><i class="fa fa-user"></i>
<span id=busuanzi_value_site_uv></span></span></section></div></div><script type=text/javascript src=/js/custom.js></script></footer></div><div id=fixed-buttons><a href=#back-to-top id=back-to-top-button class=fixed-button title=å›åˆ°é¡¶éƒ¨><i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title=æŸ¥çœ‹è¯„è®º><i class="fas fa-comment fa-fw"></i></a></div><div class=assets><link rel=stylesheet href=/lib/katex/katex.min.css><link rel=preload as=style onload='this.onload=null,this.rel="stylesheet"' href=/lib/katex/copy-tex.min.css><noscript><link rel=stylesheet href=/lib/katex/copy-tex.min.css></noscript><script type=text/javascript>window.config={code:{copyTitle:"å¤åˆ¶åˆ°å‰ªè´´æ¿",maxShownLines:30},comment:{giscus:{darkTheme:"dark",dataCategory:"Announcements",dataCategoryId:"DIC_kwDOLYjsRc4Clp7p",dataEmitMetadata:"0",dataInputPosition:"bottom",dataLang:"en",dataMapping:"pathname",dataReactionsEnabled:"1",dataRepo:"Florae006/Florae006.github.io",dataRepoId:"R_kgDOLYjsRQ",dataStrict:"0",lightTheme:"light"}},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{distance:100,findAllMatches:!1,fuseIndexURL:"/index.json",highlightTag:"em",ignoreFieldNorm:!1,ignoreLocation:!1,isCaseSensitive:!1,location:0,maxResultLength:10,minMatchCharLength:2,noResultsFound:"æ²¡æœ‰æ‰¾åˆ°ç»“æœ",snippetLength:50,threshold:.3,type:"fuse",useExtendedSearch:!1},sharerjs:!0,table:{sort:!0}}</script><script type=text/javascript src=/js/giscus.min.js defer></script><script type=text/javascript src=/lib/tablesort/tablesort.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/lib/sharer/sharer.min.js></script><script type=text/javascript src=/lib/katex/katex.min.js defer></script><script type=text/javascript src=/lib/katex/auto-render.min.js defer></script><script type=text/javascript src=/lib/katex/copy-tex.min.js defer></script><script type=text/javascript src=/lib/katex/mhchem.min.js defer></script><script type=text/javascript src=/js/katex.min.js defer></script><script type=text/javascript src=/js/theme.min.js defer></script></div></body></html>